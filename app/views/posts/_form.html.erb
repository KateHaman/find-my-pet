<div class="row justify-content-center">
  <div class="col-7">
    <h4 class="text-center mt-5">Provide Recommendation:</h4>

    <%= form_with model: @post, local: true do |f| %>

      <div class="text-center text-danger h5">
        <% if @post.errors.any? %>
          <% @post.errors.each do |error| %>
            <%= error.full_message %>
          <% end %>
        <% end %>
      </div>

      <div class="field mb-2">
        <%= f.label :title, 'Please name the recommendation:' %>
        <%= f.text_field :title, class: "form-control", required: true %>
      </div>

      <% if @pets.present? %>
        <div class="field mb-2 d-none">
          <%= f.label :title, 'Please, select the pet:' %>
          <%= f.collection_select(:pet_id, @pets, :id, :name, {}, { class: 'form-select' }) %>
        </div>
      <% else %>
        <p class="mt-4">You have to add at leat one pet to share recommendations. This can be done on your
          <%= link_to 'profile page', current_user, class: 'text-dark text-decoration-underline' %>.</p>
      <% end %>

      <div class="field mb-2">
        <%= f.label :content, 'Please share recommendation:' %>
        <%= f.rich_text_area :content, class: "form-control" %>
      </div>


      <div class="field d-none">
        <%= f.collection_select(:category_id, Category.all, :id, :name) %>
      </div>

      <div class="form_action text-center">
        <%= f.submit "Publish", class: "btn btn-dark" %>
      </div>
    <% end %>
  </div>
</div>
